(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{12255:(e,r,t)=>{Promise.resolve().then(t.bind(t,63555))},63555:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>er});var a=t(95155),s=t(12115),l=t(9391),n=t(97586),d=t(23361),i=t(63363),o=t(26184),c=t(37844),u=t(87725),m=t(22104),h=t(26062),x=t(32423),f=t(72320),g=t(29159),j=t.n(g),p=t(91290),b=t(31027),v=t(43463),N=t(69795);function y(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,N.QP)((0,v.$)(r))}let w=(0,b.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),k=s.forwardRef((e,r)=>{let{className:t,variant:s,size:l,asChild:n=!1,...d}=e,i=n?p.DX:"button";return(0,a.jsx)(i,{className:y(w({variant:s,size:l,className:t})),ref:r,...d})});k.displayName="Button";let R=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:y("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});R.displayName="Card";let D=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:y("flex flex-col space-y-1.5 p-6",t),...s})});D.displayName="CardHeader";let _=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:y("text-2xl font-semibold leading-none tracking-tight",t),...s})});_.displayName="CardTitle";let C=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:y("text-sm text-muted-foreground",t),...s})});C.displayName="CardDescription";let F=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:y("p-6 pt-0",t),...s})});function T(e){let{className:r,...t}=e;return(0,a.jsx)("div",{className:y("animate-pulse rounded-md bg-muted",r),...t})}F.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:y("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter";let S=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:y("w-full caption-bottom text-sm",t),...s})})});S.displayName="Table";let E=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("thead",{ref:r,className:y("[&_tr]:border-b",t),...s})});E.displayName="TableHeader";let H=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tbody",{ref:r,className:y("[&_tr:last-child]:border-0",t),...s})});H.displayName="TableBody",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tfoot",{ref:r,className:y("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s})}).displayName="TableFooter";let M=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tr",{ref:r,className:y("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})});M.displayName="TableRow";let A=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("th",{ref:r,className:y("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s})});A.displayName="TableHead";let P=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("td",{ref:r,className:y("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s})});P.displayName="TableCell",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("caption",{ref:r,className:y("mt-4 text-sm text-muted-foreground",t),...s})}).displayName="TableCaption";var O=t(39177);let K=s.forwardRef((e,r)=>{let{className:t,value:s,...l}=e;return(0,a.jsx)(O.bL,{ref:r,className:y("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...l,children:(0,a.jsx)(O.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});K.displayName=O.bL.displayName;var L=t(58581),W=t(27112),z=t(86354);let X={light:"",dark:".dark"},I=s.createContext(null);function G(){let e=s.useContext(I);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let Q=s.forwardRef((e,r)=>{let{id:t,className:l,children:n,config:d,...i}=e,o=s.useId(),c="chart-".concat(t||o.replace(/:/g,""));return(0,a.jsx)(I.Provider,{value:{config:d},children:(0,a.jsxs)("div",{"data-chart":c,ref:r,className:y("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",l),...i,children:[(0,a.jsx)(V,{id:c,config:d}),(0,a.jsx)(L.u,{children:n})]})})});Q.displayName="Chart";let V=e=>{let{id:r,config:t}=e,s=Object.entries(t).filter(e=>{let[r,t]=e;return t.theme||t.color});return s.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(X).map(e=>{let[t,a]=e;return"\n".concat(a," [data-chart=").concat(r,"] {\n").concat(s.map(e=>{var r;let[a,s]=e,l=(null===(r=s.theme)||void 0===r?void 0:r[t])||s.color;return l?"  --color-".concat(a,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},Y=W.m,B=s.forwardRef((e,r)=>{let{active:t,payload:l,className:n,indicator:d="dot",hideLabel:i=!1,hideIndicator:o=!1,label:c,labelFormatter:u,labelClassName:m,formatter:h,color:x,nameKey:f,labelKey:g}=e,{config:j}=G(),p=s.useMemo(()=>{var e;if(i||!(null==l?void 0:l.length))return null;let[r]=l,t="".concat(g||r.dataKey||r.name||"value"),s=q(j,r,t),n=g||"string"!=typeof c?null==s?void 0:s.label:(null===(e=j[c])||void 0===e?void 0:e.label)||c;return u?(0,a.jsx)("div",{className:y("font-medium",m),children:u(n,l)}):n?(0,a.jsx)("div",{className:y("font-medium",m),children:n}):null},[c,u,l,i,m,j,g]);if(!t||!(null==l?void 0:l.length))return null;let b=1===l.length&&"dot"!==d;return(0,a.jsxs)("div",{ref:r,className:y("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[b?null:p,(0,a.jsx)("div",{className:"grid gap-1.5",children:l.map((e,r)=>{let t="".concat(f||e.name||e.dataKey||"value"),s=q(j,e,t),l=x||e.payload.fill||e.color;return(0,a.jsx)("div",{className:y("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===d&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,r,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==s?void 0:s.icon)?(0,a.jsx)(s.icon,{}):!o&&(0,a.jsx)("div",{className:y("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===d,"w-1":"line"===d,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===d,"my-0.5":b&&"dashed"===d}),style:{"--color-bg":l,"--color-border":l}}),(0,a.jsxs)("div",{className:y("flex flex-1 justify-between leading-none",b?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[b?p:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==s?void 0:s.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function q(e,r,t){if("object"!=typeof r||null===r)return;let a="payload"in r&&"object"==typeof r.payload&&null!==r.payload?r.payload:void 0,s=t;return t in r&&"string"==typeof r[t]?s=r[t]:a&&t in a&&"string"==typeof a[t]&&(s=a[t]),s in e?e[s]:e[t]}B.displayName="ChartTooltip",z.s,s.forwardRef((e,r)=>{let{className:t,hideIcon:s=!1,payload:l,verticalAlign:n="bottom",nameKey:d}=e,{config:i}=G();return(null==l?void 0:l.length)?(0,a.jsx)("div",{ref:r,className:y("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",t),children:l.map(e=>{let r="".concat(d||e.dataKey||"value"),t=q(i,e,r);return(0,a.jsxs)("div",{className:y("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==t?void 0:t.icon)&&!s?(0,a.jsx)(t.icon,{}):(0,a.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==t?void 0:t.label]},e.value)})}):null}).displayName="ChartLegend";var J=t(12800),$=t(66963),U=t(87162),Z=t(29844),ee=t(90518);function er(){let[e,r]=(0,s.useState)([]),[t,g]=(0,s.useState)(!0),[p,b]=(0,s.useState)("light");(0,s.useEffect)(()=>{let e=localStorage.getItem("theme");if("dark"===e||"light"===e)b(e),document.documentElement.classList.toggle("dark","dark"===e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;b(e?"dark":"light"),document.documentElement.classList.toggle("dark",e)}},[]),(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Running%20information%20-%20Running%20Data-2-nq3Oi4dX1Xali5XlQ1R7r2grTs6YCJ.csv"),t=await e.text();j().parse(t,{header:!0,complete:e=>{let t=e.data.filter(e=>e.Date&&e.Run).map(e=>({...e,Date:e.Date,Run:Number.parseFloat(e.Run)||0,Time:e.Time||"","Avg HR":e["Avg HR"]||"",RPE:e.RPE||"",Notes:e.Notes||""})).sort((e,r)=>new Date(r.Date).getTime()-new Date(e.Date).getTime());r(t),g(!1)},error:e=>{console.error("Error parsing CSV:",e),g(!1)}})}catch(e){console.error("Error fetching CSV:",e),g(!1)}})()},[]);let v=(e,r)=>{if(!e||!r)return"-";let t=Number.parseFloat(e);if(0===t)return"-";let[a,s,l]=r.split(":").map(Number),n=60*(a||0)+(s||0)+(l||0)/60,d=Math.floor(n/t),i=Math.floor((n/t-d)*60);return"".concat(d,":").concat(i.toString().padStart(2,"0"),"/km")},N=(()=>{if(!e.length)return 0;let r=new Date,t=(0,l.k)(r,{weekStartsOn:1});return e.filter(e=>{let a=(0,n.H)(e.Date);return a>=t&&a<=r}).reduce((e,r)=>e+Number.parseFloat(r.Run),0).toFixed(2)})(),y=(()=>{if(!e.length)return 0;let r=new Date,t=(0,d.w)(r);return e.filter(e=>{let a=(0,n.H)(e.Date);return a>=t&&a<=r}).reduce((e,r)=>e+Number.parseFloat(r.Run),0).toFixed(2)})(),w=(()=>{if(!e.length)return[];let r=new Date;(0,i.k)(r,4);let t=[];for(let a=0;a<4;a++){let s=(0,i.k)((0,l.k)(r,{weekStartsOn:1}),a),d=(0,i.k)((0,l.k)(r,{weekStartsOn:1}),a-1);d.setDate(d.getDate()-1);let c=e.filter(e=>{let r=(0,n.H)(e.Date);return(0,o.v)(r,{start:s,end:d})}).reduce((e,r)=>e+Number.parseFloat(r.Run),0);t.unshift({week:"Week ".concat(4-a),distance:Number.parseFloat(c.toFixed(2))})}return t})(),O=(()=>{if(!e.length)return[];let r=new Date,t=(0,l.k)(r,{weekStartsOn:1});return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((r,a)=>{let s=new Date(t);return s.setDate(s.getDate()+a),{day:r,distance:Number.parseFloat(e.filter(e=>{let r=(0,n.H)(e.Date);return r.getDate()===s.getDate()&&r.getMonth()===s.getMonth()&&r.getFullYear()===s.getFullYear()}).reduce((e,r)=>e+Number.parseFloat(r.Run),0).toFixed(2))}})})();return(0,a.jsxs)("div",{className:"min-h-screen bg-background ".concat("dark"===p?"dark":""),children:[(0,a.jsx)("header",{className:"sticky top-0 z-10 border-b bg-background/95 backdrop-blur",children:(0,a.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Running Dashboard"}),(0,a.jsxs)(k,{variant:"ghost",size:"icon",onClick:()=>{let e="dark"===p?"light":"dark";b(e),document.documentElement.classList.toggle("dark","dark"===e),localStorage.setItem("theme",e)},children:["dark"===p?(0,a.jsx)(u.A,{className:"h-5 w-5"}):(0,a.jsx)(m.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})]})}),(0,a.jsx)("main",{className:"container py-6",children:t?(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[[,,,,].fill(0).map((e,r)=>(0,a.jsxs)(R,{children:[(0,a.jsx)(D,{className:"pb-2",children:(0,a.jsx)(T,{className:"h-4 w-24"})}),(0,a.jsx)(F,{children:(0,a.jsx)(T,{className:"h-8 w-16"})})]},r)),(0,a.jsxs)(R,{className:"md:col-span-2 lg:col-span-4",children:[(0,a.jsx)(D,{children:(0,a.jsx)(T,{className:"h-5 w-32"})}),(0,a.jsx)(F,{children:(0,a.jsx)(T,{className:"h-[200px] w-full"})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(R,{children:[(0,a.jsxs)(D,{className:"pb-2",children:[(0,a.jsx)(C,{children:"Weekly Distance"}),(0,a.jsxs)(_,{className:"text-3xl",children:[N," km"]})]}),(0,a.jsx)(F,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Current week"})]})})]}),(0,a.jsxs)(R,{children:[(0,a.jsxs)(D,{className:"pb-2",children:[(0,a.jsx)(C,{children:"Monthly Distance"}),(0,a.jsxs)(_,{className:"text-3xl",children:[y," km"]})]}),(0,a.jsx)(F,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Current month"})]})})]}),(0,a.jsxs)(R,{className:"md:col-span-2",children:[(0,a.jsxs)(D,{className:"pb-2",children:[(0,a.jsx)(C,{children:"Weekly Goal Progress"}),(0,a.jsxs)(_,{className:"text-3xl",children:[N," / 30 km"]})]}),(0,a.jsxs)(F,{children:[(0,a.jsx)(K,{value:Number.parseFloat(N)/30*100,className:"h-2"}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(Number.parseFloat(N)/30*100).toFixed(0),"% of weekly goal"]})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)(R,{children:[(0,a.jsx)(D,{children:(0,a.jsx)(_,{children:"Weekly Progress"})}),(0,a.jsx)(F,{children:(0,a.jsx)(Q,{config:{distance:{label:"Distance",color:"hsl(var(--primary))"}},className:"aspect-[4/3]",children:(0,a.jsx)(L.u,{width:"100%",height:"100%",children:(0,a.jsxs)(h.A,{data:w,children:[(0,a.jsx)(J.W,{dataKey:"week"}),(0,a.jsx)($.h,{}),(0,a.jsx)(Y,{content:(0,a.jsx)(B,{})}),(0,a.jsx)(U.y,{dataKey:"distance",fill:"var(--color-distance)",radius:[4,4,0,0]})]})})})})]}),(0,a.jsxs)(R,{children:[(0,a.jsx)(D,{children:(0,a.jsx)(_,{children:"Current Week"})}),(0,a.jsx)(F,{children:(0,a.jsx)(Q,{config:{distance:{label:"Distance",color:"hsl(var(--primary))"}},className:"aspect-[4/3]",children:(0,a.jsx)(L.u,{width:"100%",height:"100%",children:(0,a.jsxs)(Z.Q,{data:O,children:[(0,a.jsx)(J.W,{dataKey:"day"}),(0,a.jsx)($.h,{}),(0,a.jsx)(Y,{content:(0,a.jsx)(B,{})}),(0,a.jsx)(ee.G,{type:"monotone",dataKey:"distance",stroke:"var(--color-distance)",fill:"var(--color-distance)",fillOpacity:.2})]})})})})]})]}),(0,a.jsxs)(R,{className:"mt-6",children:[(0,a.jsx)(D,{children:(0,a.jsx)(_,{children:"Recent Runs"})}),(0,a.jsx)(F,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(S,{children:[(0,a.jsx)(E,{children:(0,a.jsxs)(M,{children:[(0,a.jsx)(A,{children:"Date"}),(0,a.jsx)(A,{children:"Distance (km)"}),(0,a.jsx)(A,{children:"Time"}),(0,a.jsx)(A,{children:"Pace"}),(0,a.jsx)(A,{children:"Avg HR"}),(0,a.jsx)(A,{children:"RPE"}),(0,a.jsx)(A,{children:"Notes"})]})}),(0,a.jsx)(H,{children:e.slice(0,10).map((e,r)=>(0,a.jsxs)(M,{children:[(0,a.jsx)(P,{children:(0,c.GP)((0,n.H)(e.Date),"dd MMM yyyy")}),(0,a.jsx)(P,{children:e.Run}),(0,a.jsx)(P,{children:e.Time||"-"}),(0,a.jsx)(P,{children:v(e.Run,e.Time)}),(0,a.jsx)(P,{children:e["Avg HR"]||"-"}),(0,a.jsx)(P,{children:e.RPE||"-"}),(0,a.jsx)(P,{className:"max-w-xs truncate",children:e.Notes||"-"})]},r))})]})})})]})]})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[222,441,517,358],()=>r(12255)),_N_E=e.O()}]);